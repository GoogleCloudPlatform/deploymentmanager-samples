# Test of Cloud Tasks template.
#
# In this example, a test queue and task are created.

imports:
  - path: templates/cloud_tasks/queue.py
    name: queue.py

resources:
  - name: ${QUEUE_NAME}
    type: queue.py
    properties:
      name: ${QUEUE_NAME}
      rateLimits:
        maxDispatchesPerSecond: ${DISPATCHES_PER_SECOND}
        maxConcurrentDispatches: ${CONCURRENT_DISPATCHES}
      retryConfig:
        maxAttempts: ${MAX_ATTEMPTS}
        maxRetryDuration: ${MAX_RETRY_DURATION}
        minBackoff: ${MIN_BACKOFF}
        maxBackoff: ${MAX_BACKOFF}
      appEngineHttpQueue:
        appEngineRoutingOverride:
          service: "default"
